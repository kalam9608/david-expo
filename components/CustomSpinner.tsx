import React, { useEffect, useRef } from 'react'
import { Animated, Easing, View } from 'react-native'
import Svg, { Path } from 'react-native-svg'

export const CustomSpinner: React.FC = () => {
  const scaleValue = useRef(new Animated.Value(1)).current

  useEffect(() => {
    Animated.loop(
      Animated.sequence([
        Animated.timing(scaleValue, {
          duration: 500,
          easing: Easing.out(Easing.ease),
          toValue: 1.25,
          useNativeDriver: true,
        }),
        Animated.timing(scaleValue, {
          duration: 500,
          easing: Easing.inOut(Easing.ease),
          toValue: 1,
          useNativeDriver: true,
        }),
      ]),
    ).start()
  }, [scaleValue])

  return (
    <View style={{ alignItems: 'center', justifyContent: 'center' }}>
      <Animated.View style={{ transform: [{ scale: scaleValue }] }}>
        <Svg fill="none" height="84" viewBox="0 0 183 168" width="91.5">
          <Path
            clip-rule="evenodd"
            d="M102.413 65.3498C100.622 87.0978 85.4925 105.395 64.5742 111.05C37.2312 118.443 9.08405 102.045 1.7575 74.4556C-5.56905 46.8658 10.6817 18.4643 38.0246 11.0716C50.4458 7.71344 63.6359 9.19178 74.9931 15.1613C75.506 15.4375 75.886 15.912 76.0458 16.4761C76.2057 17.04 76.1319 17.6454 75.8411 18.1535C75.3936 18.9519 74.8226 19.9498 74.1833 21.0671C69.8498 28.6396 61.666 33.1119 53.0128 32.636C50.0026 32.4019 46.9526 32.7033 43.9823 33.5063C28.9106 37.5813 19.9528 53.2364 23.9914 68.4444C28.0298 83.6522 43.5449 92.6906 58.6166 88.6158C70.0974 85.5117 78.4145 75.4995 79.4604 63.5796L80.5648 47.833L80.5679 47.8332C82.2207 25.9276 97.4013 7.46018 118.435 1.77337C145.778 -5.61934 173.925 10.7782 181.251 38.3682C185.891 55.841 181.152 74.482 168.768 87.5407L104.33 155.097C104.33 155.097 99.2298 160.453 94.6414 165.083C92.8242 166.917 90.3596 167.947 87.7897 167.947C85.2198 167.947 82.7552 166.917 80.9379 165.083C71.2773 155.335 53.9836 137.885 46.3758 130.209C45.7553 129.582 45.5735 128.639 45.9162 127.824C46.2591 127.009 47.0579 126.485 47.9354 126.5C53.034 126.588 60.8387 126.724 66.9992 126.83C73.0805 126.936 78.8837 129.42 83.1844 133.76C84.29 134.875 85.3358 135.931 86.1406 136.742C86.5479 137.154 87.1015 137.383 87.6776 137.379C88.2537 137.375 88.8042 137.138 89.2061 136.722C98.9563 126.614 152.24 71.3745 152.24 71.3745C158.989 64.1819 161.562 53.962 159.017 44.3795C154.979 29.1716 139.464 20.133 124.392 24.2081C112.796 27.3432 104.428 37.5258 103.519 49.6032L102.413 65.3498Z"
            fill="white"
            fill-rule="evenodd"
          />
        </Svg>
      </Animated.View>
    </View>
  )
}
